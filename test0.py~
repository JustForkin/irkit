import multiprocessing
import subprocess

def work(cmd):
    return subprocess.call(cmd, shell=False)


w1 = "fswebcam -r 1280x1024 --png 9 -D 1 -S 3 --save shot0.png -d /dev/video0".split()
w2 = "fswebcam -r 1280x1024 --png 9 -D 1 -S 3 --save shot1.png -d /dev/video1".split()

count = multiprocessing.cpu_count()
pool = multiprocessing.Pool(processes=count)
print pool.map(work, [w1,w2])

